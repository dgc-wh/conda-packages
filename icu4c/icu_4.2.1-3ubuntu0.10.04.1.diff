--- icu-4.2.1.orig/debian/lib32icu42.shlibs
+++ icu-4.2.1/debian/lib32icu42.shlibs
@@ -0,0 +1,7 @@
+libicudata 42 lib32icu42 (>= 4.2-1)
+libicui18n 42 lib32icu42 (>= 4.2-1)
+libicuio 42 lib32icu42 (>= 4.2-1)
+libicule 42 lib32icu42 (>= 4.2-1)
+libiculx 42 lib32icu42 (>= 4.2-1)
+libicutu 42 lib32icu42 (>= 4.2-1)
+libicuuc 42 lib32icu42 (>= 4.2-1)
--- icu-4.2.1.orig/debian/lib32icu-dev.install
+++ icu-4.2.1/debian/lib32icu-dev.install
@@ -0,0 +1,3 @@
+usr/lib32/lib*.so
+usr/lib32/lib*.a
+usr/lib32/icu
--- icu-4.2.1.orig/debian/lib32icu42.install
+++ icu-4.2.1/debian/lib32icu42.install
@@ -0,0 +1 @@
+usr/lib32/lib*.so.*
--- icu-4.2.1.orig/debian/copyright
+++ icu-4.2.1/debian/copyright
@@ -0,0 +1,47 @@
+This package was debianized by Jay Berkenbilt <qjb@debian.org> on
+August 5, 2005.
+
+The original source was downloaded from
+http://icu-project.org/download/4.2.html
+
+The main web site for ICU is
+http://www.icu-project.org/
+
+ICU License - ICU 1.8.1 and later
+
+COPYRIGHT AND PERMISSION NOTICE
+
+Copyright (c) 1995-2009 International Business Machines Corporation
+and others
+
+All rights reserved.
+
+Permission is hereby granted, free of charge, to any person obtaining
+a copy of this software and associated documentation files (the
+"Software"), to deal in the Software without restriction, including
+without limitation the rights to use, copy, modify, merge, publish,
+distribute, and/or sell copies of the Software, and to permit persons
+to whom the Software is furnished to do so, provided that the above
+copyright notice(s) and this permission notice appear in all copies of
+the Software and that both the above copyright notice(s) and this
+permission notice appear in supporting documentation.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
+EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
+MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT
+OF THIRD PARTY RIGHTS. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
+HOLDERS INCLUDED IN THIS NOTICE BE LIABLE FOR ANY CLAIM, OR ANY
+SPECIAL INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER
+RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF
+CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
+CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
+
+Except as contained in this notice, the name of a copyright holder
+shall not be used in advertising or otherwise to promote the sale, use
+or other dealings in this Software without prior written authorization
+of the copyright holder.
+
+----------------------------------------------------------------------
+
+All trademarks and registered trademarks mentioned herein are the
+property of their respective owners.
--- icu-4.2.1.orig/debian/libicu-dev.install
+++ icu-4.2.1/debian/libicu-dev.install
@@ -0,0 +1,8 @@
+usr/lib/lib*.so
+usr/lib/lib*.a
+usr/lib/icu
+usr/include
+usr/bin
+usr/sbin
+usr/share/icu
+usr/share/man
--- icu-4.2.1.orig/debian/control
+++ icu-4.2.1/debian/control
@@ -0,0 +1,73 @@
+Source: icu
+Section: libs
+Priority: optional
+Maintainer: Ubuntu Developers <ubuntu-devel-discuss@lists.ubuntu.com>
+XSBC-Original-Maintainer: Jay Berkenbilt <qjb@debian.org>
+Standards-Version: 3.8.3
+Build-Depends: cdbs, debhelper (>= 5), quilt, doxygen, gcc-multilib [amd64 kfreebsd-amd64 ppc64] | gcc-4.1 (<< 4.1.2) [amd64 kfreebsd-amd64 ppc64],
+ g++-multilib [amd64 kfreebsd-amd64 ppc64] | g++-4.1 (<< 4.1.2) [amd64 kfreebsd-amd64 ppc64],
+ libc6-dev-i386 [amd64], libc0.1-dev-i386 [kfreebsd-amd64], libc6-dev-powerpc [ppc64]
+Homepage: http://www.icu-project.org
+
+Package: libicu42
+Section: libs
+Architecture: any
+Depends: ${misc:Depends}, ${shlibs:Depends}
+Replaces: icu, icu-locales
+Conflicts: icu, icu-locales
+Description: International Components for Unicode
+ ICU is a C++ and C library that provides robust and full-featured
+ Unicode and locale support.  This package contains the runtime
+ libraries for ICU.
+
+Package: libicu42-dbg
+Section: debug
+Priority: extra
+Architecture: any
+Depends: ${misc:Depends}, libicu42 (= ${binary:Version})
+Description: International Components for Unicode
+ ICU is a C++ and C library that provides robust and full-featured
+ Unicode and locale support.  This package contains debugging symbols
+ for the libraries.
+
+Package: libicu-dev
+Section: libdevel
+Architecture: any
+Depends: ${misc:Depends}, libicu42 (= ${binary:Version}), libc6-dev | libc-dev
+Replaces: libicu34-dev, libicu36-dev
+Conflicts: libicu34-dev, libicu36-dev
+Suggests: icu-doc
+Description: Development files for International Components for Unicode
+ ICU is a C++ and C library that provides robust and full-featured
+ Unicode and locale support.  This package contains the development
+ files for ICU along with programs used to manipulate data files found
+ in the ICU sources.
+
+Package: lib32icu42
+Section: libs
+Architecture: amd64 ppc64 kfreebsd-amd64
+Depends: ${misc:Depends}, ${shlibs:Depends}
+Description: International Components for Unicode (32-bit)
+ ICU is a C++ and C library that provides robust and full-featured
+ Unicode and locale support.  This package contains the runtime
+ libraries for ICU.
+
+Package: lib32icu-dev
+Section: libdevel
+Architecture: amd64 ppc64 kfreebsd-amd64
+Depends: ${misc:Depends}, libicu-dev (= ${binary:Version}), lib32icu42 (= ${binary:Version})
+Suggests: icu-doc
+Description: Development files for International Components for Unicode (32-bit)
+ ICU is a C++ and C library that provides robust and full-featured
+ Unicode and locale support.  This package contains the development
+ files for ICU along with programs used to manipulate data files found
+ in the ICU sources.
+
+Package: icu-doc
+Section: doc
+Architecture: all
+Depends: ${misc:Depends}
+Description: API documentation for ICU classes and functions
+ ICU is a C++ and C library that provides robust and full-featured
+ Unicode and locale support.  This package contains HTML files
+ documenting the ICU APIs.
--- icu-4.2.1.orig/debian/rules
+++ icu-4.2.1/debian/rules
@@ -0,0 +1,113 @@
+#!/usr/bin/make -f
+
+DEB_HOST_ARCH_CPU	?= $(shell dpkg-architecture -qDEB_HOST_ARCH_CPU)
+
+# To distinguish variables that are truly local to this file (rather
+# than for use by cdbs), we adopt the convention of starting local
+# variables' names with l_.
+
+l_SONAME := 42
+l_CFLAGS := -g -Wall
+ifneq (,$(findstring noopt,$(DEB_BUILD_OPTIONS)))
+	l_CFLAGS += -O0
+else
+	l_CFLAGS += -O2
+endif
+
+# Turn off optimization on armel to avoid some internal compiler
+# errors.  This can be removed once bug 484053 is resolved.
+ifeq ($(shell dpkg --print-architecture),armel)
+l_CFLAGS := $(filter-out -O%,$(l_CFLAGS)) -O0
+endif
+
+# common configure cruft
+l_CONFIGURE = CC="gcc" CXX="g++" CPPFLAGS="" LDFLAGS="" \
+	./configure \
+	--build=$(DEB_BUILD_GNU_TYPE) --prefix=/usr \
+	--includedir="\$${prefix}/include" \
+	--mandir="\$${prefix}/share/man" --infodir="\$${prefix}/share/info" \
+	--sysconfdir=/etc --localstatedir=/var \
+	--disable-maintainer-mode --disable-dependency-tracking
+# specific to this package
+l_CONFIGURE += --disable-samples --enable-static --enable-weak-threads
+
+ifneq (, $(filter $(DEB_HOST_ARCH_CPU), amd64 ppc64 kfreebsd-amd64))
+build32 := build32
+endif
+
+# Variables used by cdbs
+
+VERSION := $(shell dpkg-parsechangelog | \
+             awk '/Version:/ {print $$2}' | cut -d- -f 1)
+
+DEB_SRCDIR = $(CURDIR)/source
+DEB_COMPRESS_EXCLUDE = html examples
+DEB_INSTALL_EXAMPLES_libicu-dev = \
+	source/samples/*
+
+# Overridden for 32-bit packages on 64-bit platforms
+DEB_DH_INSTALL_SOURCEDIR=debian/tmp
+
+DEB_DBG_PACKAGE_libicu$(l_SONAME) = libicu$(l_SONAME)-dbg
+
+override DEB_MAKE_CHECK_TARGET = check
+
+# Include cdbs rules files.
+include /usr/share/cdbs/1/rules/patchsys-quilt.mk
+include /usr/share/cdbs/1/rules/debhelper.mk
+
+# As 0.4.21, cdbs creates but doesn't remove debian/compat.  It
+# creates it conditionally, so this doesn't have a trivial fix.
+clean::
+	$(RM) debian/compat *.cdbs-config_list
+	$(RM) -rf debian/tmp32
+	$(RM) debian/stamp-configure debian/stamp-configure32
+
+# chmod -R +r here is to work around quilt creating files with mode
+# 000.  See debian bug 534840.
+post-patches::
+	chmod a+x $(DEB_SRCDIR)/configure
+ifneq (, $(build32))
+	chmod -R +r $(DEB_SRCDIR)
+	cp -a $(DEB_SRCDIR) $(DEB_SRCDIR)-build32
+endif
+
+configure/libicu$(l_SONAME) configure/libicu-dev:: debian/stamp-configure
+debian/stamp-configure:
+	cd $(DEB_SRCDIR) && \
+		CFLAGS="$(l_CFLAGS)" CXXFLAGS="$(l_CFLAGS)" \
+		$(l_CONFIGURE)
+	touch debian/stamp-configure
+
+configure/lib32icu$(l_SONAME) configure/lib32icu-dev:: debian/stamp-configure32
+debian/stamp-configure32:
+	cd $(DEB_SRCDIR)-build32 && \
+		CFLAGS="$(l_CFLAGS) -m32" CXXFLAGS="$(l_CFLAGS) -m32" \
+		$(l_CONFIGURE) --libdir=/usr/lib32
+	touch debian/stamp-configure32
+
+build/libicu$(l_SONAME) build/libicu-dev::
+	$(MAKE) -C $(DEB_SRCDIR)
+
+build/lib32icu$(l_SONAME) build/lib32icu-dev::
+	$(MAKE) -C $(DEB_SRCDIR)-build32
+
+install/libicu$(l_SONAME) install/libicu-dev::
+	$(MAKE) -C $(DEB_SRCDIR) install DESTDIR=$(CURDIR)/debian/tmp
+
+binary-install/lib32icu$(l_SONAME) binary-install/lib32icu-dev:: DEB_DH_INSTALL_SOURCEDIR=debian/tmp32
+install/lib32icu$(l_SONAME) install/lib32icu-dev::
+	$(MAKE) -C $(DEB_SRCDIR)-build32 install DESTDIR=$(CURDIR)/debian/tmp32
+
+install/icu-doc:: install/libicu$(l_SONAME) install/libicu-dev
+	$(MAKE) -C $(DEB_SRCDIR) install-doc DESTDIR=$(CURDIR)/debian/tmp
+
+# Install lintian override files
+binary-post-install/%::
+	if [ -f debian/$*.lintian ]; then \
+	    mkdir -p debian/$*/usr/share/lintian/overrides && \
+	    cp -p debian/$*.lintian debian/$*/usr/share/lintian/overrides/$*; \
+	fi
+
+binary-predeb/%::
+	perl debian/fix_substvars.pl debian/$*.substvars 'lib(32)?icu.*'
--- icu-4.2.1.orig/debian/icu-doc.install
+++ icu-4.2.1/debian/icu-doc.install
@@ -0,0 +1 @@
+usr/share/doc/icu/html	usr/share/doc/icu-doc
--- icu-4.2.1.orig/debian/libicu42.shlibs
+++ icu-4.2.1/debian/libicu42.shlibs
@@ -0,0 +1,7 @@
+libicudata 42 libicu42 (>= 4.2-1)
+libicui18n 42 libicu42 (>= 4.2-1)
+libicuio 42 libicu42 (>= 4.2-1)
+libicule 42 libicu42 (>= 4.2-1)
+libiculx 42 libicu42 (>= 4.2-1)
+libicutu 42 libicu42 (>= 4.2-1)
+libicuuc 42 libicu42 (>= 4.2-1)
--- icu-4.2.1.orig/debian/libicu42.install
+++ icu-4.2.1/debian/libicu42.install
@@ -0,0 +1 @@
+usr/lib/lib*.so.*
--- icu-4.2.1.orig/debian/watch
+++ icu-4.2.1/debian/watch
@@ -0,0 +1,3 @@
+version=3
+opts="uversionmangle=s/_/\./g;s/\.d/~d/" \
+http://download.icu-project.org/files/icu4c/(?:\d+\.[\d\.]+)/icu4c-([d\d_\.]+)-src.tgz
--- icu-4.2.1.orig/debian/README.source
+++ icu-4.2.1/debian/README.source
@@ -0,0 +1,72 @@
+INFORMATION SPECIFIC TO ICU
+===========================
+
+The packaging guidelines in the ICU documentation suggest that
+packagers should use the --enable-renaming option to ./configure.  We
+should not do this could potentially result in using the same soname
+with ABI changes.  Although ICU guarantees that no documented parts of
+the public ABI will change, there is nothing to stop people from using
+undocumented or deprecated interfaces.  For additional details, please
+see the thread about this topic on the icu-design list.  You can get
+to the mailing list archives here:
+
+http://sourceforge.net/mailarchive/forum.php?forum_name=icu-design
+
+and find the thread from June 10, 2008 with the subject "debian: use
+of --disable-rename and ICU library sonames".
+
+
+BOILER-PLATE TEXT
+=================
+
+This package uses quilt to manage all modifications to the upstream
+source.  Changes are stored in the source package as diffs in
+debian/patches and applied during the build.  To set up quilt for
+working with this package, cd to the root of the extracted source
+package and run
+
+    export QUILT_PATCHES=$PWD/debian/patches
+
+To get the fully patched source after unpacking the source package, cd to
+the root level of the source package and run:
+
+    quilt push -a
+
+The last patch listed in debian/patches/series will become the current
+patch.
+
+To add a new set of changes, first run quilt push -a, and then run:
+
+    quilt new <patch>
+
+where <patch> is a descriptive name for the patch, used as the filename in
+debian/patches.  Then, for every file that will be modified by this patch,
+run:
+
+    quilt add <file>
+
+before editing those files.  You must tell quilt with quilt add what files
+will be part of the patch before making changes or quilt will not work
+properly.  After editing the files, run:
+
+    quilt refresh
+
+to save the results as a patch.
+
+Alternately, if you already have an external patch and you just want to
+add it to the build system, run quilt push -a and then:
+
+    quilt import -P <patch> /path/to/patch
+    quilt push -a
+
+(add -p 0 to quilt import if needed). <patch> as above is the filename to
+use in debian/patches.  The last quilt push -a will apply the patch to
+make sure it works properly.
+
+To remove an existing patch from the list of patches that will be applied,
+run:
+
+    quilt delete <patch>
+
+You may need to run quilt pop -a to unapply patches first before running
+this command.
--- icu-4.2.1.orig/debian/libicu42.lintian
+++ icu-4.2.1/debian/libicu42.lintian
@@ -0,0 +1,6 @@
+# libicu42 installs multiple shared libraries, none of which is
+# actually called libicu.so.42, but all of which are libicu*.so.42.
+libicu42: package-name-doesnt-match-sonames
+# libicudata.so.42.0 contains static data only
+libicu42: shared-lib-without-dependency-information
+libicu42: shlib-without-PT_GNU_STACK-section usr/lib/libicudata.so.42.0
--- icu-4.2.1.orig/debian/fix_substvars.pl
+++ icu-4.2.1/debian/fix_substvars.pl
@@ -0,0 +1,52 @@
+#
+# Remove any whose names that match the given pattern from the
+# shlibs:Depends entry in the given substvars.
+#
+
+BEGIN { $^W = 1; }
+use strict;
+my $whoami = ($0 =~ m,([^/\\]*)$,) ? $1 : $0;
+
+die "usage: $whoami substvars-file pattern" unless @ARGV == 2;
+my ($file, $pattern) = @ARGV;
+if (! -f $file)
+{
+    exit 0;
+}
+
+open(F, "<$file") or die "$whoami: can't open $file: $!\n";
+my @in = (<F>);
+close(F);
+my @out = ();
+
+for (@in)
+{
+    if (m/(shlibs:Depends=)(.*)/)
+    {
+	my $prefix = $1;
+	my $contents = $2;
+	my @items = split(',\s*', $contents);
+	my @new = ();
+	foreach my $i (@items)
+	{
+	    $i =~ m/^(\S+)/ or die;
+	    my $pkg = $1;
+	    if ($pkg !~ m/^${pattern}$/)
+	    {
+		push(@new, $i);
+	    }
+	}
+	push(@out, $prefix . join(', ', @new) . "\n");
+    }
+    else
+    {
+	push(@out, $_);
+    }
+}
+
+open(F, ">$file") or die "$whoami: can't open $file.new: $!\n";
+foreach (@out)
+{
+    print F $_;
+}
+close(F);
--- icu-4.2.1.orig/debian/changelog
+++ icu-4.2.1/debian/changelog
@@ -0,0 +1,511 @@
+icu (4.2.1-3ubuntu0.10.04.1) lucid-security; urgency=low
+
+  * SECURITY UPDATE: denial of service and possible code execution via
+    out of bounds access
+    - debian/patches/CVE-2011-4599.patch: add bounds checks in
+      source/common/uloc.c.
+    - CVE-2011-4599
+
+ -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 25 Jan 2012 15:13:36 -0500
+
+icu (4.2.1-3) unstable; urgency=low
+
+  * Change install-doc target to not fail if there are subdirectories of
+    doc/html.  This is necessary to handle the doc/html/search directory
+    created by doxygen 3.6.1.  (Closes: #544799)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Fri, 04 Sep 2009 11:56:06 -0400
+
+icu (4.2.1-2) unstable; urgency=low
+
+  * Added missing 4.0.1-4 entry to changelog.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Wed, 19 Aug 2009 21:58:56 -0400
+
+icu (4.2.1-1) unstable; urgency=low
+
+  * New upstream release
+  * Updated standards version to 3.8.3.  No changes required.
+  * First unstable upload to not use tarball in tarball packaging.
+    (Closes: #538560)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Wed, 19 Aug 2009 17:11:40 -0400
+
+icu (4.2.1~rc1-3) experimental; urgency=low
+
+  * More aggressive fix to invalid object files being written by pkgdata.
+    This is a temporary fix until upstream provides a better one.
+    (Closes: #530568)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sun, 28 Jun 2009 09:57:40 -0400
+
+icu (4.2.1~rc1-2) experimental; urgency=low
+
+  * Bug 530568 is not fixed.  Add some debugging code.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 27 Jun 2009 09:34:16 -0400
+
+icu (4.2.1~rc1-1) experimental; urgency=low
+
+  * New upstream release
+  * Fixed bug in pkgdata that was causing build failures on most
+    platforms. (Closes: #530568)
+  * Removed /emul/ia32-linux stuff. (Closes: #533850)
+  * Updated standards version to 3.8.2
+
+ -- Jay Berkenbilt <qjb@debian.org>  Fri, 26 Jun 2009 22:12:55 -0400
+
+icu (4.0.1-4) unstable; urgency=high
+
+  * Added conflicts on older versions of libc6-i386 for 32-bit versions of
+    the libraries installed on 64-bit systems.  (Closes: #538836)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Tue, 04 Aug 2009 08:54:45 -0400
+
+icu (4.0.1-3) unstable; urgency=low
+
+  * Removed /emul/ia32-linux stuff. (Closes: #533850)
+  * Updated standards version to 3.8.2
+  * Fixed section of -dbg package
+
+ -- Jay Berkenbilt <qjb@debian.org>  Fri, 26 Jun 2009 22:12:06 -0400
+
+icu (4.2-1) experimental; urgency=low
+
+  * New upstream release
+  * Updated standards to 3.8.1: no changes required.
+  * Removed arm workarounds since the underlying problem has been fixed
+    upstream and arm is no longer supported anyway.
+  * Now that upstream has removed obsolete debian directory, this package
+    no longer uses tarball-in-tarball packaging.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sun, 24 May 2009 09:35:30 -0400
+
+icu (4.0.1-2) unstable; urgency=low
+
+  * Include work-around from 3.8.1-3, inadvertently omitted from 4.0.1-1.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sun, 08 Mar 2009 09:39:51 -0400
+
+icu (4.0.1-1) unstable; urgency=low
+
+  * New upstream release (Closes: #516674)
+  * Create README.source, convert patch system to quilt, update standards
+    version to 3.8.0
+  * Applied patch for compilation under gcc 4.4.  This has also been fixed
+    upstream.  (Closes: #505371)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 07 Mar 2009 19:19:39 -0500
+
+icu (3.8.1-3) unstable; urgency=medium
+
+  * Work around gcc internal error on armel.  Temporary until bug 484053
+    is resolved.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Thu, 10 Jul 2008 14:25:30 -0400
+
+icu (4.0-1) experimental; urgency=low
+
+  * New upstream release
+  * Remove setBreakType patch.  See
+    http://bugs.icu-project.org/trac/ticket/5498 for a discussion.  Based
+    on this report, and looking at the OpenOffice.org bug tracking system,
+    it seems that this is no longer needed by OpenOffice.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Tue, 08 Jul 2008 12:08:13 -0400
+
+icu (4.0~d3-1) experimental; urgency=low
+
+  * New upstream release
+
+ -- Jay Berkenbilt <qjb@debian.org>  Fri, 27 Jun 2008 22:23:10 -0400
+
+icu (3.8.1-2) unstable; urgency=low
+
+  * Patch from Harshula to fix split conjuncts problem in
+    Sinhala. (Closes: #483563)
+  * Force structures to be padded at byte boundaries (rather than 32-bit
+    boundaries) on arm. (Closes: #484138)
+  * Update doc-base section.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 07 Jun 2008 13:09:07 -0400
+
+icu (3.8.1-1) unstable; urgency=low
+
+  * New upstream release
+  * Patch to support GNU/kFreeBSD.  Thanks Aurelien Jarno.  (Closes:
+    #461782)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Mon, 11 Feb 2008 20:11:00 -0500
+
+icu (3.8-6) unstable; urgency=high
+
+  * Add debian/patches/00-cve-2007-4770-4771.patch created from with
+    svn diff -c 23292 \
+    http://source.icu-project.org/repos/icu/icu/branches/maint/maint-3-8
+    to address the following security vulnerablilities:
+     - CVE-2007-4770: reference to non-existent capture group may
+       cause access to invalid memory
+     - CVE-2007-4771: buffer overflow in regexcmp.cpp
+    (Closes: #463688)
+  * Updated standards version to 3.7.3: no changes required.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Thu, 07 Feb 2008 12:58:34 -0500
+
+icu (3.8-5) unstable; urgency=low
+
+  * Filter out extraneous dependencies among different versions of the
+    library packages. (Closes: #451767, 451978)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 01 Dec 2007 09:47:32 -0500
+
+icu (3.8-4) experimental; urgency=low
+
+  * Include changes from 3.6-10.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sun, 18 Nov 2007 11:04:16 -0500
+
+icu (3.6-10) unstable; urgency=low
+
+  * It appears that amd64 requires 32-bit libraries to be in
+    /emul/ia32-linux/usr/lib instead of /usr/lib32.  Following zlib's
+    example of moving them around for amd64 only. (Closes: #451495)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sun, 18 Nov 2007 11:03:10 -0500
+
+icu (3.8-3) experimental; urgency=low
+
+  * Include changes from 3.6-9.
+  * Include -dbg package with unstripped versions of the libraries.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 17 Nov 2007 15:02:36 -0500
+
+icu (3.6-9) unstable; urgency=low
+
+  * Yet another 32-bit library fix.  Files were installed in /32 because
+    of the debian/tmp32 thing.  How did this ever work? (Closes: #451495)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 17 Nov 2007 12:12:18 -0500
+
+icu (3.8-2) experimental; urgency=low
+
+  * Include changes from 3.6-8.  (Closes: #448747)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Tue, 06 Nov 2007 20:58:09 -0500
+
+icu (3.6-8) unstable; urgency=low
+
+  * Clean up 32-bit library patch to avoid excessive and unnecessary runs
+    of configure. (Closes: #447771)
+  * make setBreakType public in rbbi.h; needed by OpenOffice.org.  This
+    patch is included in OpenOffice.org's internal ICU.  Including it here
+    allows OpenOffice.org to continue to use this ICU package.  Thanks
+    Rene Engelhard.  (Closes: #448745)
+  * Rename debian/watch.not-yet to debian/no-watch so it won't get picked
+    up even though it's not supposed to.  ICU's ftp site uses a structure
+    that isn't supported by uscan.  (Closes: #449701)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Tue, 06 Nov 2007 20:56:38 -0500
+
+icu (3.8-1) experimental; urgency=low
+
+  * New upstream release.  All previously included patches have been
+    incorporated into upstream.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 20 Oct 2007 11:53:32 -0400
+
+icu (3.6-7) unstable; urgency=low
+
+  * Fix bug in which 32-bit library installs were overwriting files for
+    64-bit libraries on amd64.  Thanks Robert Millan for the patch.
+    (Closes: #447275)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 20 Oct 2007 11:30:12 -0400
+
+icu (3.6-6) unstable; urgency=low
+
+  * Oops: fixed one more problem with 32-bit builds on a 64-bit platform.
+    Thanks Aaron Ucko.  (Closes: #398778)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Mon, 17 Sep 2007 15:19:59 -0400
+
+icu (3.6-5) unstable; urgency=low
+
+  * Add additional Build-Depends for 64-bit platforms.  Thanks Robert
+    Millan.  (Closes: #398778)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Mon, 17 Sep 2007 10:42:32 -0400
+
+icu (3.6-4) unstable; urgency=low
+
+  * Accepted patch from Robert Millan (with very slight, mostly cosmetic
+    modifications) to build 32-bit libraries on 64-bit architectures.
+    Many thanks to Robert Millan for supplying this patch!  (Closes:
+    #398778)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 15 Sep 2007 21:42:33 -0400
+
+icu (3.8~d01-1) experimental; urgency=low
+
+  * New upstream release
+  * Configure with weak reference to thread library.  (Closes: #389260)
+  * The development package no longer has the library soname in its name.
+    It is now just libicu-dev.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 04 Aug 2007 11:04:49 -0400
+
+icu (3.6-3) unstable; urgency=low
+
+  * Include patch from Samuel Thibault to allow icu to build on gnu hurd.
+    (Closes: #414446)
+
+ -- Jay Berkenbilt <qjb@debian.org>  Tue, 10 Jul 2007 17:31:56 -0400
+
+icu (3.6-2) unstable; urgency=low
+
+  * Include patch to fix error in IndicClassTables to fix
+    worstCaseExpansion for Sinhala.  Thanks to Harshula for forwarding
+    this.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Mon, 27 Nov 2006 21:19:09 -0500
+
+icu (3.6-1) unstable; urgency=low
+
+  * New upstream release
+  * Provide libicu34-dev since ICU 3.6 provides backward compatible
+    interfaces in addition to new ones.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Tue, 19 Sep 2006 12:10:41 -0400
+
+icu (3.6~d02-1) experimental; urgency=low
+
+  * New upstream release.
+  * Remove special optimization hack to work around now-fixed m68k build
+    problems.  (Closes: #360743)
+  * Update standards version.  No changes required.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Tue, 15 Aug 2006 16:34:34 -0400
+
+icu (3.4.1a-1) unstable; urgency=low
+
+  * Upstream re-released 3.4.1 without changing the version number because
+    the header file with 3.4.1 still said it was 3.4.  Unfortunately, the
+    debian 3.4.1 package had already been uploaded.  This "3.4.1a" release
+    now matches upstream's 3.4.1.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Wed, 29 Mar 2006 22:19:08 -0500
+
+icu (3.4.1-1) unstable; urgency=low
+
+  * New upstream release
+
+ -- Jay Berkenbilt <qjb@debian.org>  Fri,  3 Mar 2006 23:07:52 -0500
+
+icu (3.4-4) unstable; urgency=low
+
+  * Build with g++ 4.0 with -fno-strict-aliasing to work around g++ 4.0
+    bugs that impact ICU.  Future versions should work properly with the
+    latest g++ without any special flags.  (Closes: #342970)
+  * Enable static libraries.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sun, 22 Jan 2006 11:36:59 -0500
+
+icu (3.4-3) unstable; urgency=low
+
+  * Explicitly build with g++ 3.4.  The current ICU fails its test suite
+    with 4.0 but not with 3.4.  Future versions should work properly with
+    4.0.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 19 Nov 2005 11:29:31 -0500
+
+icu (3.4-2) unstable; urgency=low
+
+  * Remove some extraneous build steps that may cause problems with
+    autobuilders.
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat, 13 Aug 2005 12:41:35 -0400
+
+icu (3.4-1) unstable; urgency=low
+
+  * New upstream release
+  * Completely new packaging
+
+ -- Jay Berkenbilt <qjb@debian.org>  Fri,  5 Aug 2005 21:57:15 -0400
+
+icu (2.1-3) unstable; urgency=low
+
+  * New maintainer as per discussion with Ivo.
+  * g++ 4.0 transition: libicu21c102 is now libicu21c2.
+  * Accepted changes from NMU below for now.  This change will be
+    reversed soon when icu is updated to the current upstream version.
+    The icu28 package will also be removed at that time, as per discussion
+    with the icu28 maintainer.  Closes: #301316
+  * Add shlibs files
+
+ -- Jay Berkenbilt <qjb@debian.org>  Sat,  9 Jul 2005 13:33:35 -0400
+
+icu (2.1-2.1) unstable; urgency=medium
+
+  * Rename icu-doc to icu21-doc. icu-doc is built by the icu28 package.
+
+ -- Matthias Klose <doko@debian.org>  Sat, 21 May 2005 22:44:31 +0200
+
+icu (2.1-2) unstable; urgency=low
+
+  * debian/control: Changed maintainer, added Daniel Glassey as Uploader.
+    (Reference:
+    http://lists.debian.org/debian-devel/2003/debian-devel-200308/msg01963.html)
+
+ -- Ivo Timmermans <ivo@debian.org>  Sun, 18 Jan 2004 23:52:03 +0100
+
+icu (2.6.1-1) experimental; urgency=low
+
+  * New upstream version.
+  * Ivo Timmermans:
+      * debian/rules Don't create arch-all packages in the binary-arch
+        target.  Closes: #184403
+
+ -- Ivo Timmermans <ivo@debian.org>  Thu,  6 Nov 2003 09:03:44 +0100
+
+icu (2.6-1) experimental; urgency=low
+
+  * New upstream version. Closes: #162975
+  * debian/control: New maintainers
+  * Daniel Glassey:
+      * debian/rules Don't use --enable-static as it bloats the packages
+      * debian/rules Change the optimisations to -O3 and -O to get it to build
+      * debian/rules get the latest config.{sub,guess} from /usr/share/misc
+        so add build-dep on autotools-dev
+      * debian/postinst gencnval is now in {prefix}/bin
+  * Ivo Timmermans:
+      * debian/control Tightened debhelper build dependency
+      * debian/control Update Standards-Version
+
+ -- Daniel Glassey <wdg@debian.org>  Wed,  3 Sep 2003 12:39:35 +0200
+
+icu (2.1-1.2) unstable; urgency=low
+
+  * NMU.
+  * Updated source/config.{sub,guess}.  Closes: #182697
+
+ -- Ivo Timmermans <ivo@debian.org>  Fri,  7 Mar 2003 20:58:23 +0100
+
+icu (2.1-1.1) unstable; urgency=low
+
+  * NMU.
+  * debian/control: Go through G++ ABI transition. Closes: #180124
+  * source/common/unicode/docmain.h: Fix \mainpage and \section tags,
+    so doxygen doesn't get confused any more. Closes: #178344
+  * debian/copyright: Added upstream URL. Closes: #165780
+
+ -- Ivo Timmermans <ivo@debian.org>  Fri, 14 Feb 2003 15:21:56 +0100
+
+icu (2.1-1) unstable; urgency=low
+
+  * ICU 2.1 release.
+  * Changed the icu package description. Closes: 142886
+  * Use -O1 for CXXFLAGS for OS/390. Closes: 143021
+
+ -- Yves Arrouye <yves@debian.org>  Mon, 15 Apr 2002 14:03:12 -0700
+
+icu (2.0.2-1) unstable; urgency=low
+
+  * Minor release of ICU with fixes for threading and strTo/FromWCS
+
+ -- Yves Arrouye <yves@debian.org>  Tue,  2 Apr 2002 09:06:00 -0800
+
+icu (2.0-2.1pre20020318-1) unstable; urgency=low
+
+  * Use the library number in the development package too.
+  * ICU changed to version 2.1.
+
+ -- Yves Arrouye <yves@debian.org>  Tue, 19 Mar 2002 18:38:37 -0800
+
+icu (2.0-2.1pre20020303-1) unstable; urgency=low
+
+  * Fixed a crash in uconv when no argument is passed to -f or -t.
+  * Other upstream changes.
+  * Fresh upload with an up to date orig tar file so that future
+    diffs won't be 6 megabytes long!
+
+ -- Yves Arrouye <yves@debian.org>  Sun,  3 Mar 2002 15:31:13 -0800
+
+icu (2.0-2.1pre-1) unstable; urgency=low
+
+  * Prerelease of 2.1 with a working upgraded uconv(1).
+
+ -- Yves Arrouye <yves@debian.org>  Fri,  1 Mar 2002 21:51:47 -0800
+
+icu (2.0-3) unstable; urgency=low
+
+  * Renamed doc-base to icu-doc.doc-base. Closes: 127487
+
+ -- Yves Arrouye <yves@debian.org>  Fri, 18 Jan 2002 22:33:53 -0800
+
+icu (2.0-2) unstable; urgency=low
+
+  * Fixed a bug in uprv_uca_cloneTempTable().  Closes: 128484
+  * Update Debian bugs status.  Closes: 104642
+  * Use the official 2.0 tarball as the original tar.
+  * Added manual pages for every tool.
+
+ -- Yves Arrouye <yves@debian.org>  Wed, 16 Jan 2002 20:45:42 -0800
+
+icu (2.0-1) unstable; urgency=low
+
+  * Update to ICU version 2.0.
+
+ -- Yves Arrouye <yves@debian.org>  Sat, 10 Nov 2001 21:58:19 -0800
+
+icu (1.8.1-2) unstable; urgency=low
+
+  * Updated copyright file. Closes: 112488
+  * Updated icu-locales description. Closes: 75499
+
+ -- Yves Arrouye <yves@debian.org>  Sat, 10 Nov 2001 21:24:58 -0800
+
+icu (1.8.1-1.1) unstable; urgency=low
+
+  * NMU to resolve build failures on ia64 and (hopefully) hppa.
+  * config.{sub|guess} update
+  * source/tools/ctestfw/ctest.c: Add static declaration to global
+    variables local to that module to avoid @gprel relocation errors.
+    Closes: 104642
+
+ -- Yves Arrouye <yves@debian.org>  Sat, 10 Nov 2001 21:24:44 -0800
+
+icu (1.8.1-1) unstable; urgency=low
+
+  * Update to ICU version 1.8.1.
+
+ -- root <yves@debian.org>  Mon, 21 May 2001 15:27:36 -0700
+
+icu (1.7-1) unstable; urgency=low
+
+  * Update to ICU version 1.7.
+
+ -- Yves Arrouye <yves@debian.org>  Tue, 21 Nov 2000 22:54:52 -0800
+
+icu (1.6.0.1-20001113-2) unstable; urgency=low
+
+  * New snapshot with better ISO-2022.
+
+ -- Yves Arrouye <yves@debian.org>  Mon, 13 Nov 2000 21:05:00 -0800
+
+icu (1.6.0.1-20001027-1) unstable; urgency=low
+
+  * Move architecture-dependent files into /usr/lib, instead of
+    /usr/share.
+  * Move convrtrs.txt into /etc/icu, make it a conffile, and generate
+    /usr/lib/icu/1.6.0.1/cnvalias.dat from it at postinst time.
+  * Manage a /usr/lib/icu/current symbolic link across installations
+    of the libicuXX packages. The symlink will always point to the
+    highest numbered version of ICU.
+
+ -- Yves Arrouye <yves@debian.org>  Fri, 27 Oct 2000 15:40:12 -0700
+
+icu (1.6.0.1-20001017-1) unstable; urgency=low
+
+  * Initial Release.
+
+ -- Yves Arrouye <yves@debian.org>  Tue, 24 Oct 2000 16:14:12 -0700
--- icu-4.2.1.orig/debian/icu-doc.doc-base
+++ icu-4.2.1/debian/icu-doc.doc-base
@@ -0,0 +1,13 @@
+Document: icu-doc
+Title: ICU API Documentation
+Author: IBM Corporation and Others
+Abstract: This manual describes the APIs of the
+ International Components for Unicode C/C++
+ library. It is a useful reference for the
+ ICU programmer.
+Section: Programming
+
+Format: HTML
+Index: /usr/share/doc/icu-doc/html/index.html
+Files: /usr/share/doc/icu-doc/html/*.html
+
--- icu-4.2.1.orig/debian/patches/gencfu-man.patch
+++ icu-4.2.1/debian/patches/gencfu-man.patch
@@ -0,0 +1,120 @@
+Index: source/tools/gencfu/Makefile.in
+===================================================================
+--- source.orig/tools/gencfu/Makefile.in	2009-05-24 12:04:12.511442910 -0400
++++ source/tools/gencfu/Makefile.in	2009-05-24 12:04:53.864414583 -0400
+@@ -17,7 +17,7 @@
+ 
+ SECTION = 1
+ 
+-# MAN_FILES = $(TARGET_STUB_NAME).$(SECTION)
++MAN_FILES = $(TARGET_STUB_NAME).$(SECTION)
+ 
+ 
+ ## Extra files to remove for 'make clean'
+@@ -58,8 +58,8 @@
+ 	$(INSTALL) $(TARGET) $(DESTDIR)$(bindir)
+ 
+ install-man: $(MAN_FILES)
+-#	$(MKINSTALLDIRS) $(DESTDIR)$(mandir)/man$(SECTION)
+-#	$(INSTALL_DATA) $? $(DESTDIR)$(mandir)/man$(SECTION)
++	$(MKINSTALLDIRS) $(DESTDIR)$(mandir)/man$(SECTION)
++	$(INSTALL_DATA) $? $(DESTDIR)$(mandir)/man$(SECTION)
+ 
+ dist-local:
+ 
+Index: source/tools/gencfu/gencfu.1.in
+===================================================================
+--- /dev/null	1970-01-01 00:00:00.000000000 +0000
++++ source/tools/gencfu/gencfu.1.in	2009-05-24 12:18:07.371452356 -0400
+@@ -0,0 +1,91 @@
++.\" Hey, Emacs! This is -*-nroff-*- you know...
++.\"
++.\" gencfu.1: manual page for the gencfu utility
++.\"
++.\" Copyright (C) 2005-2006 International Business Machines Corporation and others
++.\"
++.TH GENCFU 1 "24 May 2009" "ICU MANPAGE" "ICU @VERSION@ Manual"
++.SH NAME
++.B gencfu
++\- Generates Unicode Confusable data files
++.SH SYNOPSIS
++.B gencfu
++[
++.BR "\-h\fP, \fB\-?\fP, \fB\-\-help"
++]
++[
++.BR "\-V\fP, \fB\-\-version"
++]
++[
++.BR "\-c\fP, \fB\-\-copyright"
++]
++[
++.BR "\-v\fP, \fB\-\-verbose"
++]
++[
++.BI "\-d\fP, \fB\-\-destdir" " destination"
++]
++[
++.BI "\-i\fP, \fB\-\-icudatadir" " directory"
++]
++.BI "\-r\fP, \fB\-\-rules" " rule\-file"
++.BI "\-w\fP, \fB\-\-wsrules" " whole\-script\-rule\-file"
++.BI "\-o\fP, \fB\-\-out" " output\-file"
++.SH DESCRIPTION
++.B gencfu
++reads confusable character definitions in the input file, which are
++plain text files containing confusable character
++definitions in the input format defined by Unicode UAX39 for the files
++.I confusables.txt
++and
++.I confusablesWholeScript.txt.
++This source (.txt) format is also accepted by ICU spoof detectors.
++The files must be encoded in utf-8 format, with or without a BOM.
++Normally the output data file has the
++.B .cfu
++extension.
++.SH OPTIONS
++.TP
++.BR "\-h\fP, \fB\-?\fP, \fB\-\-help"
++Print help about usage and exit.
++.TP
++.BR "\-V\fP, \fB\-\-version"
++Print the version of
++.B gencfu
++and exit.
++.TP
++.BR "\-c\fP, \fB\-\-copyright"
++Embeds the standard ICU copyright into the
++.IR output-file .
++.TP
++.BR "\-v\fP, \fB\-\-verbose"
++Display extra informative messages during execution.
++.TP
++.BI "\-d\fP, \fB\-\-destdir" " destination"
++Set the destination directory of the
++.IR output-file
++to
++.IR destination .
++.TP
++.BI "\-i\fP, \fB\-\-icudatadir" " directory"
++Look for any necessary ICU data files in
++.IR directory .
++For example, the file
++.B pnames.icu
++must be located when ICU's data is not built as a shared library.
++The default ICU data directory is specified by the environment variable
++.BR ICU_DATA .
++Most configurations of ICU do not require this argument.
++.TP
++.BI "\-r\fP, \fB\-\-rules" " rule\-file"
++The source file to read.
++.TP
++.BI "\-w\fP, \fB\-\-wsrules" " whole\-script\-rule\-file"
++The whole script source file to read.
++.TP
++.BI "\-o\fP, \fB\-\-out" " output\-file"
++The output data file to write.
++.SH VERSION
++1.0
++.SH COPYRIGHT
++Copyright (C) 2009 International Business Machines Corporation and others
--- icu-4.2.1.orig/debian/patches/CVE-2011-4599.patch
+++ icu-4.2.1/debian/patches/CVE-2011-4599.patch
@@ -0,0 +1,27 @@
+Description: fix denial of service and possible code execution via out of bounds access
+Origin: upstream, http://bugs.icu-project.org/trac/ticket/8984
+Bug: http://bugs.icu-project.org/trac/ticket/8984
+Bug-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=654883
+
+Index: source/common/uloc.c
+===================================================================
+--- source.orig/common/uloc.c	2009-07-01 14:50:38.000000000 -0400
++++ source/common/uloc.c	2012-01-25 15:11:12.874205338 -0500
+@@ -1736,7 +1736,7 @@
+                 int32_t variantLen = _deleteVariant(variant, uprv_min(variantSize, (nameCapacity-len)), variantToCompare, n);
+                 len -= variantLen;
+                 if (variantLen > 0) {
+-                    if (name[len-1] == '_') { /* delete trailing '_' */
++                    if (len > 0 && name[len-1] == '_') { /* delete trailing '_' */
+                         --len;
+                     }
+                     addKeyword = VARIANT_MAP[j].keyword;
+@@ -1744,7 +1744,7 @@
+                     break;
+                 }
+             }
+-            if (name[len-1] == '_') { /* delete trailing '_' */
++            if (len > 0 && len <= nameCapacity && name[len-1] == '_') { /* delete trailing '_' */
+                 --len;
+             }
+         }
--- icu-4.2.1.orig/debian/patches/series
+++ icu-4.2.1/debian/patches/series
@@ -0,0 +1,5 @@
+kfreebsd.patch
+gencfu-man.patch
+pkgdata.patch
+install-doc.patch
+CVE-2011-4599.patch
--- icu-4.2.1.orig/debian/patches/kfreebsd.patch
+++ icu-4.2.1/debian/patches/kfreebsd.patch
@@ -0,0 +1,55 @@
+Index: source/common/putil.c
+===================================================================
+--- source.orig/common/putil.c	2009-05-08 12:12:20.000000000 -0400
++++ source/common/putil.c	2009-05-24 10:51:31.091442839 -0400
+@@ -106,7 +106,7 @@
+ #   define ICU_NO_USER_DATA_OVERRIDE 1
+ #elif defined(OS390)
+ #include "unicode/ucnv.h"   /* Needed for UCNV_SWAP_LFNL_OPTION_STRING */
+-#elif defined(U_DARWIN) || defined(U_LINUX) || defined(U_BSD)
++#elif defined(U_DARWIN) || defined(U_LINUX) || defined(U_BSD) || defined(U_KBSD)
+ #include <limits.h>
+ #include <unistd.h>
+ #elif defined(U_QNX)
+@@ -611,7 +611,7 @@
+ extern U_IMPORT char *U_TZNAME[];
+ #endif
+ 
+-#if !UCONFIG_NO_FILE_IO && (defined(U_DARWIN) || defined(U_LINUX) || defined(U_BSD))
++#if !UCONFIG_NO_FILE_IO && (defined(U_DARWIN) || defined(U_LINUX) || defined(U_BSD) || defined(U_KBSD))
+ /* These platforms are likely to use Olson timezone IDs. */
+ #define CHECK_LOCALTIME_LINK 1
+ #if defined(U_DARWIN)
+@@ -1656,7 +1656,7 @@
+         */
+         name = "eucjis";
+     }
+-#elif defined(U_LINUX)
++#elif defined(U_LINUX) || defined(U_KBSD)
+     if (locale != NULL && uprv_strcmp(name, "euc") == 0) {
+         /* Linux underspecifies the "EUC" name. */
+         if (uprv_strcmp(locale, "korean") == 0) {
+Index: source/configure
+===================================================================
+--- source.orig/configure	2009-05-08 12:13:08.000000000 -0400
++++ source/configure	2009-05-24 10:51:31.095443119 -0400
+@@ -10320,6 +10320,7 @@
+ case "${host}" in
+ 	*-*-solaris*) 	platform=U_SOLARIS ;;
+ 	*-*-linux*) 	platform=U_LINUX ;;
++	*-*-k*bsd*-gnu*) platform=U_KBSD ;;
+ 	*-pc-gnu) 	platform=U_HURD ;;
+ 	*-*-*bsd*|*-*-dragonfly*) 	platform=U_BSD ;;
+ 	*-*-aix*) 	platform=U_AIX ;;
+Index: source/configure.in
+===================================================================
+--- source.orig/configure.in	2009-05-08 12:13:08.000000000 -0400
++++ source/configure.in	2009-05-24 10:51:31.099463373 -0400
+@@ -1068,6 +1068,7 @@
+ case "${host}" in
+ 	*-*-solaris*) 	platform=U_SOLARIS ;;
+ 	*-*-linux*) 	platform=U_LINUX ;;
++	*-*-k*bsd*-gnu*) platform=U_KBSD ;;
+ 	*-pc-gnu) 	platform=U_HURD ;;
+ 	*-*-*bsd*|*-*-dragonfly*) 	platform=U_BSD ;;
+ 	*-*-aix*) 	platform=U_AIX ;;
--- icu-4.2.1.orig/debian/patches/install-doc.patch
+++ icu-4.2.1/debian/patches/install-doc.patch
@@ -0,0 +1,15 @@
+Index: source/Makefile.in
+===================================================================
+--- source.orig/Makefile.in	2009-09-04 12:11:43.204758139 -0400
++++ source/Makefile.in	2009-09-04 12:11:45.372757942 -0400
+@@ -145,8 +145,8 @@
+ else
+ install-doc: doc
+ 	$(RM) -r $(DESTDIR)$(docdir)/$(docsubdir)
+-	$(MKINSTALLDIRS) $(DESTDIR)$(docdir)/$(docsubdir)
+-	$(INSTALL_DATA) doc/html/* $(DESTDIR)$(docdir)/$(docsubdir)
++	$(MKINSTALLDIRS) `dirname $(DESTDIR)$(docdir)/$(docsubdir)`
++	cp -r doc/html $(DESTDIR)$(docdir)/$(docsubdir)
+ endif
+ 
+ $(DESTDIR)$(pkglibdir)/%: $(top_srcdir)/../data/%
--- icu-4.2.1.orig/debian/patches/pkgdata.patch
+++ icu-4.2.1/debian/patches/pkgdata.patch
@@ -0,0 +1,203 @@
+Index: source/tools/pkgdata/pkgdata.cpp
+===================================================================
+--- source.orig/tools/pkgdata/pkgdata.cpp	2009-06-26 14:57:38.000000000 -0400
++++ source/tools/pkgdata/pkgdata.cpp	2009-06-28 09:49:51.013264666 -0400
+@@ -77,6 +77,13 @@
+ #define CAN_WRITE_OBJ_CODE
+ #endif
+ 
++// Temporary fix until http://bugs.icu-project.org/trac/ticket/6969 is
++// resolved.
++#ifdef CAN_WRITE_OBJ_CODE
++# undef CAN_WRITE_OBJ_CODE
++# define BUILD_DATA_WITHOUT_ASSEMBLY
++#endif
++
+ /*
+  * When building the data library without assembly,
+  * some platforms use a single c code file for all of
+@@ -118,6 +125,7 @@
+ static void createFileNames(const char *version_major, const char *version, const char *libName, const UBool reverseExt);
+ 
+ static int32_t pkg_getOptionsFromICUConfig(UOption *option);
++static int runCommand(const char* command);
+ 
+ enum {
+     NAME,
+@@ -461,6 +469,17 @@
+     return result;
+ }
+ 
++static int runCommand(const char* command)
++{
++    printf("pkgdata: %s\n", command);
++    int result = system(command);
++    if (result != 0)
++    {
++	printf("-- return status = %d\n", result);
++    }
++    return result;
++}
++
+ #define LN_CMD "ln -s"
+ #define RM_CMD "rm -f"
+ 
+@@ -724,7 +743,7 @@
+             LN_CMD,
+             libFileNames[LIB_FILE_VERSION],
+             libFileNames[LIB_FILE_VERSION_MAJOR]);
+-    result = system(cmd);
++    result = runCommand(cmd);
+     if (result != 0) {
+         return result;
+     }
+@@ -737,7 +756,7 @@
+             libFileNames[LIB_FILE_VERSION],
+             libFileNames[LIB_FILE], pkgDataFlags[SO_EXT]);
+ 
+-     result = system(cmd);
++     result = runCommand(cmd);
+ 
+     return result;
+ }
+@@ -753,7 +772,7 @@
+             installDir, PKGDATA_FILE_SEP_STRING, libFileNames[LIB_FILE_VERSION]
+             );
+ 
+-    result = system(cmd);
++    result = runCommand(cmd);
+ 
+     if (result != 0) {
+         return result;
+@@ -795,7 +814,7 @@
+                         srcDir, PKGDATA_FILE_SEP_STRING, buffer,
+                         installDir, PKGDATA_FILE_SEP_STRING, buffer);
+ 
+-                result = system(cmd);
++                result = runCommand(cmd);
+                 if (result != 0) {
+                     fprintf(stderr, "Failed to install data file with command: %s\n", cmd);
+                     break;
+@@ -815,7 +834,7 @@
+     }
+ #else
+     sprintf(cmd, "%s %s %s %s", WIN_INSTALL_CMD, srcDir, installDir, WIN_INSTALL_CMD_FLAGS);
+-    result = system(cmd);
++    result = runCommand(cmd);
+     if (result != 0) {
+         fprintf(stderr, "Failed to install data file with command: %s\n", cmd);
+     }
+@@ -849,7 +868,17 @@
+                 targetDir,
+                 libFileNames[LIB_FILE_VERSION_TMP]);
+ 
+-        result = system(cmd);
++        result = runCommand(cmd);
++        if (result != 0) {
++            return result;
++        }
++
++        sprintf(cmd, "%s %s%s",
++                pkgDataFlags[RANLIB],
++                targetDir,
++                libFileNames[LIB_FILE_VERSION]);
++
++        result = runCommand(cmd);
+         if (result != 0) {
+             return result;
+         }
+@@ -860,7 +889,7 @@
+                 targetDir,
+                 libFileNames[LIB_FILE_VERSION_TMP]);
+ 
+-        result = system(cmd);
++        result = runCommand(cmd);
+         if (result != 0) {
+             return result;
+         }
+@@ -908,7 +937,21 @@
+                 pkgDataFlags[A_EXT],
+                 objectFile);
+ 
+-        result = system(cmd);
++        result = runCommand(cmd);
++        if (result == 0)
++        {
++#ifdef OS400
++            sprintf(cmd, "QSH CMD('%s %s%s.%s')",
++#else
++            sprintf(cmd, "%s %s%s.%s",
++#endif
++                pkgDataFlags[RANLIB],
++                targetDir,
++                libFileNames[LIB_FILE],
++                pkgDataFlags[A_EXT]);
++
++            result = runCommand(cmd);
++        }
+     } else /* if (mode == MODE_DLL) */ {
+ #ifdef U_CYGWIN
+         sprintf(cmd, "%s%s%s %s -o %s%s %s %s%s %s %s",
+@@ -935,7 +978,7 @@
+                 pkgDataFlags[BIR_FLAGS]);
+ 
+         /* Generate the library file. */
+-        result = system(cmd);
++        result = runCommand(cmd);
+     }
+ 
+     if (freeCmd) {
+@@ -961,7 +1004,7 @@
+             tempObjectFile,
+             gencFilePath);
+ 
+-    result = system(cmd);
++    result = runCommand(cmd);
+     if (result != 0) {
+         return result;
+     }
+@@ -1043,7 +1086,7 @@
+                         tempObjectFile,
+                         gencmnFile);
+             
+-            result = system(cmd);
++            result = runCommand(cmd);
+             if (result != 0) {
+                 break;
+             }
+@@ -1094,7 +1137,7 @@
+             sprintf(cmd, "cat %s >> %s", gencmnFile, icudtAll);
+ #endif
+             
+-            result = system(cmd);
++            result = runCommand(cmd);
+             if (result != 0) {
+                 break;
+             }
+@@ -1110,7 +1153,7 @@
+                     pkgDataFlags[LIBFLAGS],
+                     tempObjectFile,
+                     gencmnFile);
+-        result = system(cmd);
++        result = runCommand(cmd);
+         if (result != 0) {
+             break;
+         }
+@@ -1139,7 +1182,7 @@
+         tempObjectFile,
+         icudtAll);
+     
+-    result = system(cmd);
++    result = runCommand(cmd);
+     if (result == 0) {
+         sprintf(buffer, "%s %s",
+             buffer,
+@@ -1222,7 +1265,7 @@
+                 );
+     }
+ 
+-    return system(cmd);
++    return runCommand(cmd);
+ }
+ #endif
+ 
